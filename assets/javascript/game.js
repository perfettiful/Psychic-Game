/*Psychic game javascript main: NPP 03-24-2018*/

//Initialize starting variables
var wins = 0;

var losses = 0;

var guessesLeft = 9;

var userGuesses = [];

function random(number){
    return Math.floor(Math.random()*(number+1));
  }



var alphabet = "abcdefghijklmnopqrstuvwxyz";
var alphabetArray = alphabet.split('');
//console.log(alphabetArray);

var length = alphabetArray.length;


var randomNum = random(length);



//Random letter generated by Computer
var secretLetter = alphabetArray[randomNum];
console.log("Secret Letter:" + secretLetter);


//Wrap game logic in Key Event Listener
document.onkeyup = function(event){

    guessesLeft--;
    document.querySelector("#guessesLeft").innerHTML = "Guesses Left: "+guessesLeft;
    

    //Extract Key event to Variable
    var keyPressed = event.key;
    //console.log(keyPressed);



    //Convert Key into lowercase letter
    var userGuess = keyPressed.toLowerCase();

    userGuesses.push(userGuess);
    //console.log(userGuesses);



    document.querySelector("#userGuessesArray").innerHTML = "Guesses Made: " + userGuesses;



    /****Begin Game Logic To Test User Guess*****///

    //Condition if User Guesses Correctly
    if(userGuess === secretLetter){

        wins++;
        document.querySelector("#wins").innerHTML =  "Wins: " + wins;
        //alert win
        newGame();


    } //End win condition

    //Loss condition
    if(guessesLeft === 0){

        losses++;
        document.querySelector("#losses").innerHTML = "Losses: " + losses;
        //alert loss
        newGame();

    }//end loss condition

    


    /***** Game's  Helper  Functions ***************/
    
    //Reset helper function
    function newGame(){

        guessesLeft = 9;
        userGuesses = [];
        secretLetter ;
        randomNum = 1;

    }




}//End Key Event Listener